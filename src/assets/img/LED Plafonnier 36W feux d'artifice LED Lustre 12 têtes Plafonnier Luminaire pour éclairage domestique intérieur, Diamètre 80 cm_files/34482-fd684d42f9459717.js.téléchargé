(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[34482],{76298:function(e,r,t){"use strict";var i,n,o;t.d(r,{V2:function(){return i},a5:function(){return n},wD:function(){return o}}),function(e){e.EUR="EUR",e.GBP="GBP"}(i||(i={})),function(e){e.DEFAULT="DEFAULT",e.SYMBOL="SYMBOL",e.SYMBOL_SUP="SYMBOL_SUP"}(n||(n={})),function(e){e.EXCLUDED="EXCLUDED",e.INCLUDED="INCLUDED",e.NONE="NONE"}(o||(o={}))},57506:function(e,r,t){"use strict";t.d(r,{V2:function(){return c.V2},a5:function(){return c.a5},tA:function(){return f},wD:function(){return c.wD}});var i=t(85893),n=t(93967),o=t.n(n);const s="price",l="priceCurrency";var c=t(76298),a=t(74504),u=t.n(a);const d=e=>{let{vatText:r,vatAbbr:t}=e;return r&&t?(0,i.jsxs)("abbr",{title:r,className:u().vat,children:["\xa0",t]}):r?(0,i.jsxs)("span",{className:u().vat,children:["\xa0",r]}):null},v=e=>{let{vat:r,translations:t}=e;return(0,i.jsxs)(i.Fragment,{children:[r===c.wD.INCLUDED&&(0,i.jsx)(d,{vatText:null===t||void 0===t?void 0:t.includedVAT,vatAbbr:null===t||void 0===t?void 0:t.includedVATAbbr}),r===c.wD.EXCLUDED&&(0,i.jsx)(d,{vatText:null===t||void 0===t?void 0:t.excludedVAT,vatAbbr:null===t||void 0===t?void 0:t.excludedVATAbbr})]})},m=new Map,f=e=>{let{className:r,currency:t=c.V2.EUR,format:n=c.a5.DEFAULT,maximumFractionDigits:a=2,minimumFractionDigits:d=2,obsolete:f=!1,translations:y,value:p,vat:E=c.wD.NONE,forcedLocale:D="",...h}=e;const x=f?"del":"span";if((null===y||void 0===y?void 0:y.free)&&!p)return(0,i.jsx)(x,{...h,className:o()(u().root,r),children:y.free});const _=t===c.V2.GBP?"en-GB":"fr-FR",P="".concat(D||_,"-").concat(t);if(!m.has(P)){const e=new Intl.NumberFormat(D||_,{style:"currency",currency:t,currencyDisplay:"symbol"}).format(.1),r=e.replace(/[^.,]/g,""),i=e.replace(/[A-Za-z0-1.,]/g,""),n=i.replace(/[\s]/g,""),o=e.startsWith(i);m.set(P,{decimalSeparator:r,currencySymbol:i,currencyStrippedSymbol:n,shouldDisplayCurrencyFirst:o})}const{decimalSeparator:S,currencySymbol:g,currencyStrippedSymbol:R,shouldDisplayCurrencyFirst:b}=m.get(P),T=new Intl.NumberFormat(D||_,{style:"decimal",minimumFractionDigits:d,maximumFractionDigits:a}).format(p||0);let I,L;if(b||n!==c.a5.SYMBOL_SUP)if(b||n!==c.a5.SYMBOL)b&&t===c.V2.GBP?(I=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{itemProp:s,content:p,children:T}),(0,i.jsx)(v,{vat:E,translations:y||{}})]}),L=(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("span",{itemProp:l,content:t,children:g})})):(I=(0,i.jsx)("span",{itemProp:s,content:p,children:T}),L=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{itemProp:l,content:t,children:g}),(0,i.jsx)(v,{vat:E,translations:y||{}})]}));else{const[e,r]=T.split(S);I=(0,i.jsxs)("span",{itemProp:s,content:p,children:[e,(0,i.jsx)("span",{itemProp:l,content:t,children:R}),r,(0,i.jsx)(v,{vat:E,translations:y||{}})]})}else{const[e,r]=T.split(S);I=(0,i.jsxs)("span",{className:u().supContainer,itemProp:s,content:p,children:[e,(0,i.jsxs)("sup",{children:[(0,i.jsx)("span",{itemProp:l,content:t,children:R}),r,(0,i.jsx)(v,{vat:E,translations:y||{}})]})]})}return(0,i.jsxs)(x,{...h,className:o()(u().root,r),itemType:"https://schema.org/PriceSpecification",children:[b&&L,I,!b&&L]})};f.displayName="Price"},67744:function(e,r,t){"use strict";t.d(r,{b:function(){return o}});var i=t(85893),n=t(53810);const o=e=>(0,i.jsx)(n.S,{optimizationId:"iconsSystemAlert",viewBox:"0 0 24 24",...e,children:(0,i.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z",fill:"currentColor"})});o.displayName="Alert"},11985:function(e,r,t){"use strict";t.d(r,{$U:function(){return l},GQ:function(){return o},K3:function(){return s},P1:function(){return u},Tq:function(){return c},_h:function(){return a},bZ:function(){return n},hK:function(){return i}});const i="HOME_DELIVERY",n="HOME_DELIVERY_EXPRESS",o="EXPRESS_HOME_DELIVERY",s="RELAY_POINT",l="RELAY_POINT_EXPRESS",c="EXPRESS_RELAY_POINT",a="PRE_ORDER_SCHEDULED_DELIVERY",u="ROOM_OF_CHOICE"},30253:function(e,r,t){"use strict";t.d(r,{M:function(){return i}});const i=e=>{var r,t;return null===(r=e.productDiscovery)||void 0===r||null===(t=r.bulkPurchase)||void 0===t?void 0:t.data}},67708:function(e,r,t){"use strict";t.d(r,{ZP:function(){return g},rx:function(){return T},G1:function(){return P}});var i=t(85980),n=t(66699),o=t(80535),s=t(12502),l=t(44179),c=t(11985);const a=e=>{const r=e.filter((e=>![c._h].includes(e.type)));if(r.length<2)return r;const t={};return r.forEach((e=>{const r=0===e.deliveryPrice.amount?"FREE":"PAID",i="".concat(e.type,"_").concat(r);var n,o;t[i]=t[i]?(n=t[i],(o=e).maxDeliveryTime!==n.maxDeliveryTime?o.maxDeliveryTime<n.maxDeliveryTime?o:n:o.minDeliveryTime!==n.minDeliveryTime?o.minDeliveryTime<n.minDeliveryTime?o:n:o.deliveryPrice.amount!==n.deliveryPrice.amount?o.deliveryPrice.amount<n.deliveryPrice.amount?o:n:o.isBestDeliveryOffer!==n.isBestDeliveryOffer&&o.isBestDeliveryOffer?o:n):e})),Object.values(t)};var u=t(10239),d=t(60456),v=t(9967);const m=e=>u.M.post("/api/v1/products-delivery/estimate",{market:v.YO.toUpperCase(),platform:v.iw.toUpperCase(),is_mf:e.isManoFulfillment,products:[{id:e.productId,seller_id:e.sellerId,sku:e.sku,quantity:e.quantity,unit_price:e.unitPrice,discounted:e.discounted,weight:1e3*e.weight}]},{baseURL:(0,d.W)("MS_API_URL"),auth:{username:"spartacux--product-page",password:""},headers:{"x-mm-user-agent":"spartacux--product-page"}}).then((e=>e.data.content.delivery_offers.map((e=>{return{name:e.name,type:e.mode,countries:e.deliverable_countries||[],minDeliveryTime:e.estimated_delivery.delivery_time.min,maxDeliveryTime:e.estimated_delivery.delivery_time.max,orderBefore:(r=e.estimated_delivery.delivery_time.order_before,r?Date.parse("".concat(new Date(Date.now()).toDateString()," ").concat(r)):null),deliveryPrice:e.estimated_delivery.price,isExpress:e.estimated_delivery.is_express,isBestDeliveryOffer:e.estimated_delivery.is_best_delivery_offer};var r}))));var f=t(34050),y=t(29657),p=t(21336);const E={offers:[],meta:{fastestMaxDelivery:null,hasExpressDelivery:!1,hasFreeDelivery:!1,countries:[]},fetching:!1,fetched:!1},D="product/v2/GET_DELIVERY_CARRIER",h="product/v2/GET_DELIVERY_CARRIER_SUCCESS",x="product/v2/GET_DELIVERY_CARRIER_FAILURE",_=(0,o.P1)((e=>{var r,t;return null===(r=e.productDiscovery)||void 0===r||null===(t=r.productPage)||void 0===t?void 0:t.delivery}),(e=>e||E)),P=()=>(0,i.useSelector)(_),S=(0,o.P1)((e=>{var r,t,i;return null===(r=e.productDiscovery)||void 0===r||null===(t=r.productPage)||void 0===t||null===(i=t.detail)||void 0===i?void 0:i.data}),(e=>{var r,t;return(null===(r=e.productDiscovery)||void 0===r||null===(t=r.productPage)||void 0===t?void 0:t.quantity)||0}),((e,r)=>{var t,i,n,o;return{isManoFulfillment:Boolean(null===e||void 0===e||null===(t=e.delivery)||void 0===t?void 0:t.fulfillment),weight:Number(null===e||void 0===e||null===(i=e.delivery)||void 0===i?void 0:i.weight),productId:Number(null===e||void 0===e?void 0:e.productId),sellerId:Number(null===e||void 0===e||null===(n=e.seller)||void 0===n?void 0:n.id),sku:String(null===e||void 0===e?void 0:e.manufacturerSKU),unitPrice:{amount:(null===e||void 0===e||null===(o=e.price)||void 0===o?void 0:o.primaryPrice.amountWithVat)||0,currency:(null===e||void 0===e?void 0:e.currency)||"EUR"},discounted:Boolean(null===e||void 0===e?void 0:e.isOnSale),quantity:r}}));function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case s.j:return _(r.state);case D:return{...e,fetching:!0,fetched:!1};case h:{const e=a(r.offers),t=Math.min(...e.map((e=>e.maxDeliveryTime)));return{fetching:!1,fetched:!0,offers:e,meta:{fastestMaxDelivery:t,hasExpressDelivery:e.some((e=>e.isExpress)),hasFreeDelivery:e.some((e=>0===e.deliveryPrice.amount)),countries:e.flatMap((e=>e.countries))}}}case x:return{...E,fetching:!1,fetched:!0};case p.LX:var t,i,n;if(null===(t=r.detail.delivery)||void 0===t||null===(i=t.carriers)||void 0===i||null===(n=i.offers)||void 0===n?void 0:n.length){var o,l,c,u;const e=null===(o=r.detail.delivery)||void 0===o||null===(l=o.carriers)||void 0===l?void 0:l.offers.map((e=>({...e,orderBefore:e.orderBefore?1e3*e.orderBefore:null,countries:[],isExpress:!1,isBestDeliveryOffer:e.isBestDeliveryOffer||!1}))),t=a(e);return{fetching:!1,fetched:!0,offers:t,meta:{fastestMaxDelivery:Math.min(...t.map((e=>e.maxDeliveryTime))),hasExpressDelivery:(null===(c=r.detail.delivery)||void 0===c?void 0:c.expressDelivery)||!1,hasFreeDelivery:t.some((e=>0===e.deliveryPrice.amount)),countries:(null===(u=r.detail.delivery)||void 0===u?void 0:u.countries)||[]}}}return e;default:return e}}function*R(){try{const e=yield(0,n.Ys)(S);if(!e.productId)return null;yield(0,n.gz)({type:D});const r=yield(0,n.RE)(m,e);yield(0,n.gz)({type:h,offers:r})}catch(e){yield(0,n.gz)({type:x}),e instanceof Error&&l.Z.error(e)}}function*b(){(yield(0,n.Ys)(_)).offers.length||(yield(0,n.RE)(R))}function*T(){yield(0,n.rM)(b),yield(0,n.Fm)(y.Gx,b),yield(0,n.Fm)(f.s,R)}},34050:function(e,r,t){"use strict";t.d(r,{s:function(){return i}});const i="product/CHANGE_QUANTITY"},74504:function(e){e.exports={root:"buI4_h",supContainer:"ETmrsv"}}}]);
//# sourceMappingURL=34482-fd684d42f9459717.js.map