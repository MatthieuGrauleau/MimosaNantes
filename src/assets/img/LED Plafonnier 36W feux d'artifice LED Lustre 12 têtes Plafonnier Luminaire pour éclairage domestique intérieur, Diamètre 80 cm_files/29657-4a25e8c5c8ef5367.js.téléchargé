"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29657],{61289:function(e,t,i){i.d(t,{le:function(){return a},si:function(){return o},xu:function(){return r}});var n=i(12592);function r(){return"https://cdn.".concat((0,n.y)(),"manomano.com")}function o(e){if(0!==e.steps.length)return e.steps.reduce(((e,t)=>t.label.includes("delivered")&&t.segments&&t.current&&t.segments!==t.current?e:t.current&&t.current>0?t:e))}function a(e){return"string"===typeof e?Number(e):void 0}},17330:function(e,t,i){i.d(t,{D:function(){return a},N:function(){return o}});var n=i(85980),r=i(87155);const o=e=>{var t,i;return null===e||void 0===e||null===(t=e.proB2BAnimation)||void 0===t||null===(i=t.eligibilityCoupon)||void 0===i?void 0:i.eligibilityCoupon},a=()=>(0,n.useSelector)(r.p)||{}},816:function(e,t,i){i.d(t,{Ch:function(){return f},Q3:function(){return p},ZP:function(){return m},_C:function(){return g},fl:function(){return _}});var n=i(85980),r=i(66699),o=i(80535),a=i(12502),l=i(9438),d=i(21336);const c="product/GET_MD_SCORES",u="product/GET_MD_SCORES_SUCCESS",s="product/GET_MD_SCORES_FAILURE",v={fetching:!1,fetched:!1,articleId:null,data:[]},_=(0,o.P1)((e=>{var t,i;return null===(t=null===e||void 0===e||null===(i=e.productDiscovery)||void 0===i?void 0:i.articleReviews)||void 0===t?void 0:t.mdScores}),(e=>e||v)),p=()=>(0,n.useSelector)(_);function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return{data:[],articleId:t.articleId,fetched:!1,fetching:!0};case u:return{...e,data:t.mdScores.map((t=>{var i;return{...t,hasRanking:t.ranking.length>=5,rankingPosition:(null===(i=t.ranking.find((t=>t.articleId===e.articleId)))||void 0===i?void 0:i.position)||null}})),fetching:!1,fetched:!0};case s:return{...e,data:[],error:t.error,fetching:!1,fetched:!0};case d.LX:return t.detail.mdScores?{data:t.detail.mdScores.map((e=>{var i;return{...e,hasRanking:e.ranking.length>=5,rankingPosition:(null===(i=e.ranking.find((e=>e.articleId===t.detail.articleId)))||void 0===i?void 0:i.position)||null}})),articleId:t.detail.articleId,fetching:!1,fetched:!0}:v;case a.j:return _(t.state);default:return e}}const g=(0,o.P1)(_,((e,t)=>t),((e,t)=>e.data.find((e=>e.questionId===t))));function*f(e){try{const t=yield(0,r.Ys)(_);if(t.fetched&&t.articleId===e.articleId)return null;yield(0,r.gz)({type:c,articleId:e.articleId});const i=yield(0,r.RE)(l.we,e.articleId);yield(0,r.gz)({type:u,mdScores:i})}catch(t){yield(0,r.gz)({type:s,error:t.message})}}},9438:function(e,t,i){i.d(t,{Ap:function(){return u},B7:function(){return s},BU:function(){return p},Z_:function(){return f},cC:function(){return m},ex:function(){return v},jO:function(){return d},we:function(){return c},zz:function(){return g}});var n=i(61289),r=i(10239),o=i(60456),a=i(9967),l=i(58504);const d=e=>r.M.get("/api/v2/articles-stats",{baseURL:(0,o.W)("MS_API_URL"),params:{article_id:e}}).then((e=>({articleId:e.data.content.article_id,total:e.data.content.total,average:e.data.content.average,recommended:e.data.content.recommended,distribution:e.data.content.distribution}))),c=e=>r.M.get("/api/v2/articles/".concat(e,"/mds-stats"),{baseURL:(0,o.W)("MS_API_URL"),params:{language:a.iw.toUpperCase()}}).then((e=>e.data.content.map((e=>({name:e.name,isTop:e.is_top,nbTotal:e.nb_total,avgRating:e.avg_rating,questionId:e.question_id,description:e.description,ranking:[],hasRanking:!1,rankingPosition:null}))))),u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"createdAt";return r.M.get("/api/v2/article-ratings",{baseURL:(0,o.W)("MS_API_URL"),params:{platform:a.iw,article_ids:e,limit:t,page:i,stars:d,exclude_translate:!1,["order_by[".concat(c,"]")]:"DESC",onlyB2B:n}}).then((e=>{const{pagination:t,content:i}=e.data;return{reviews:i.map((e=>({reviewId:e.id,customerName:e.customer_name,title:e.title,message:e.message,rating:e.rating,platform:e.platform,createdAt:e.created_at,isTranslated:null!==e.original_rating_id,votes:e.total_votes,incentivized:e.incentivized,pictures:e.pictures.map((e=>({uuid:e.uuid,id:e.uuid,url:(0,l.J)(e.uuid),thumbnail:(0,l.K)(e.uuid)}))),isB2b:e.b2b,purchaseDate:e.purchase_date,source:e.source}))),pagination:t}}))},s=async e=>r.M.get("/api/product-discovery/product-cards",{baseURL:(0,o.W)("MS_API_URL"),headers:{"x-platform":a.iw.toUpperCase()},params:{article_ids:e.join(","),with_sku_count:!1,with_catalog_attributes:!1,with_delivery_detail:!1,with_delivery_options:!1,is_pro:!1}}).then((e=>{var t,i;return null===(t=e.data)||void 0===t||null===(i=t.content)||void 0===i?void 0:i.map((e=>({articleId:Number(e.master_product.article_id),modelId:Number(e.sku.model_id),productId:Number(e.offer.product_id),title:e.sku.title,image:"".concat((0,n.xu)()).concat(e.sku.media[0].thumbnail_url),slug:e.sku.slug_article,rating:e.sku.rating.average,ratingCount:e.sku.rating.total_ratings,isFallback:!1,price:{currency:e.offer.price.currency,amount:Number(e.offer.price.current_price.amount_with_vat)}})))})),v=e=>r.M.get("/api/v1/carousel-pictures",{baseURL:(0,o.W)("MS_API_URL"),params:{platform_id:a.iw.toUpperCase(),article_id:e}}).then((e=>e.data.content.map((e=>({uuid:e.uuid,id:e.uuid,url:(0,l.J)(e.uuid),thumbnail:(0,l.K)(e.uuid),review:{reviewId:e.review.id,customerName:e.review.customer_name,title:e.review.title||"",message:e.review.message,rating:e.review.rating,platform:e.review.platform,createdAt:e.review.created_at,isTranslated:null!==e.review.original_rating_id,incentivized:Boolean(e.review.incentivized),pictures:[],purchaseDate:e.review.purchase_date,source:e.review.source}}))))),_=(e,t)=>({customerName:e.customer_name,reviewId:e.id,message:e.message,rating:e.rating,createdAt:e.created_at,platform:t,title:"",isTranslated:!1,incentivized:e.incentivized,votes:e.total_votes||0,pictures:[],isB2b:e.is_b2b,purchaseDate:e.purchase_date,source:e.source}),p=e=>r.M.get("/api/v1/latest-reviews",{baseURL:(0,o.W)("MS_API_URL"),params:{platform:a.iw.toUpperCase(),article_id:e}}).then((e=>{const t=e.data.content.platform_id,i=e.data.content.latest_reviews.map((e=>_(e,t)));return{bestRatedReviews:e.data.content.best_rated_reviews.map((e=>_(e,t))),latestReviews:i,total:e.data.content.total_review_count}})),m=e=>r.M.post("".concat((0,o.W)("MS_API_URL"),"/b2c-advice/api/v1/useful-reviews/").concat(e,"/vote")),g=e=>r.M.delete("/b2c-advice/api/v1/useful-reviews/".concat(e,"/vote"),{baseURL:(0,o.W)("MS_API_URL")}),f=e=>r.M.get("/b2c-advice/api/v1/generated-reviews",{baseURL:(0,o.W)("MS_API_URL"),params:{platform:a.iw.toUpperCase(),article_id:e}}).then((e=>e.data.content)).then((e=>(e=>({id:e.id,totalReviews:e.total_reviews,link:e.link,reviewSummary:e.review_summary,goodPoints:e.good_points,badPoints:e.bad_points,collectTime:e.collect_time}))(e)))},14242:function(e,t,i){i.d(t,{HW:function(){return d},Dl:function(){return l},IX:function(){return a},Kt:function(){return c}});const n=["A+++","A++","A+","A","B","C","D","E","F","G"],r=["green500","green400","green300","yellow100","orange500","orange400","red100","red100","red100","red100"],o=(e,t)=>{const i=n.indexOf(t),o=n.indexOf(e),a=n.slice(i,o+1);return Object.fromEntries(a.map(((e,t)=>[e,r[t]])))},a=10939,l=10938,d=39,c=e=>{const t=null===e||void 0===e?void 0:e.find((e=>e.id===d)),i=null===e||void 0===e?void 0:e.find((e=>e.id===a)),n=null===e||void 0===e?void 0:e.find((e=>e.id===l));if(t&&i&&n)return{energyLabels:o(i.value,n.value),energyAttribute:{value:t.value},isEuEnergyLabel:"A"===n.value&&"G"===i.value&&1===t.value.length&&n.value.localeCompare(t.value)<=0&&i.value.localeCompare(t.value)>=0}}},21336:function(e,t,i){i.d(t,{$I:function(){return n},DI:function(){return a},LX:function(){return r},VN:function(){return o},nO:function(){return l}});const n="product/GET_DETAILS",r="product/GET_DETAILS_SUCCESS",o="product/GET_DETAILS_FAILURE",a="product/SET_DETAIL",l=e=>({type:a,detail:e,version:"V2-B2C"})},29657:function(e,t,i){i.d(t,{Gx:function(){return g},wh:function(){return h}});var n=i(66699),r=i(44179),o=i(27838),a=i(26052),l=i(94783),d=i(17330),c=i(816),u=i(88545),s=i(74597),v=i(56e3),_=i(64955),p=i(50293),m=i(30253);const g="product/VIEW_PRODUCT_PAGE_TRACKING_DONE";function*f(){try{var e,t;const r=yield(0,n.Ys)(s.Oy),{data:a}=yield(0,n.Ys)(c.fl),f=yield(0,n.Ys)(u.Qy),h=yield(0,n.Ys)(_.XH),y=yield(0,n.Ys)(d.N),b=y?[{amount:y.amount.toString(),code:y.code}]:[],w=(0,o.tP)()?b:r.coupons,I=yield(0,n.Ys)(m.M),P=Boolean(null===I||void 0===I||null===(e=I[r.modelId])||void 0===e?void 0:e[(null===(t=r.seller)||void 0===t?void 0:t.id)||0]);var i;l.P.push((0,v.Jd)(r,w,f,(null!==(i=null===h||void 0===h?void 0:h.length)&&void 0!==i?i:0)>p.G,P,a)),yield(0,n.gz)({type:g}),r.description&&r.descriptionFileUrl&&l.P.push((0,v.Kv)(r))}catch(a){r.Z.error(a)}}function*h(){yield(0,n.ib)(a.JH,f)}},56e3:function(e,t,i){i.d(t,{Z:function(){return m},Uk:function(){return g},Kv:function(){return p},Jd:function(){return _}});var n=i(75897),r=i(27838);const o=e=>Object.values(e.reduce(((e,t)=>0===t.deliveryPrice.amount?{...e,free:[...e.free||[],t]}:{...e,notFree:[...e.notFree||[],t]}),{})),a=e=>e.reduce(((e,t)=>t.maxDeliveryTime<e.maxDeliveryTime?t:t.maxDeliveryTime>e.maxDeliveryTime?e:t.minDeliveryTime<e.minDeliveryTime||t.deliveryPrice.amount<e.deliveryPrice.amount?t:e)),l=e=>{return e.length<=1?e:(t=e,Object.values(t.reduce(((e,t)=>({...e,[t.type]:[...e[t.type]||[],t]})),{}))).map(o).flat().map(a).flat();var t};var d=i(14242),c=i(37116),u=i(56140);function s(e,t){var i,n,o,a,s,v,_,p,m,g,f,h,y,b,w,I,P,R,S,k,E,C,A,D,L,U,T,M,O,W,N,V,x,B,G,q,z,F,j,Y,H;const X=(0,r.tP)()&&(null===(i=e.seller)||void 0===i?void 0:i.country)===(0,r.Xf)().toUpperCase()?"amountWithoutVat":"amountWithVat",K=(null===(n=e.price)||void 0===n?void 0:n.retailPrice)?null===(o=e.price)||void 0===o?void 0:o.retailPrice[X]:null===(a=e.price)||void 0===a?void 0:a.primaryPrice[X],J=e.breadcrumbs||[];var Z;const Q=(0,u.rI)(null!==(Z=e.attributes)&&void 0!==Z?Z:[]),$=null===(s=e.attributes)||void 0===s?void 0:s.find((e=>e.id===d.HW)),ee=null===(v=e.attributes)||void 0===v?void 0:v.find((e=>e.id===d.IX)),te=null===(_=e.attributes)||void 0===_?void 0:_.find((e=>e.id===d.Dl)),ie=Boolean($&&te&&ee&&e.energy),ne=["breadcrumbs","price","delivery","seller","description","attributes","brand"].filter((t=>!Object.prototype.hasOwnProperty.call(e,t))),re=J[J.length-1]||{},oe=null===(p=e.price)||void 0===p?void 0:p.primaryPrice[X],ae=null===(m=e.stock)||void 0===m?void 0:m.minimumValue,le=l(((null===(g=e.delivery)||void 0===g||null===(f=g.carriers)||void 0===f?void 0:f.offers)||[]).filter((e=>"PRE_ORDER_SCHEDULED_DELIVERY"!==e.type&&"HOME_FLOOR_DELIVERY"!==e.type)));var de,ce,ue;return{pr_ad_tracking_data:void 0,pr_advantages_source:null===(h=e.productAdvantages)||void 0===h?void 0:h.source,pr_article_id:e.articleId.toString(),pr_attributes_count:null===(y=e.attributes)||void 0===y?void 0:y.length,pr_base_price:K,pr_brand_id:null===(b=e.brand)||void 0===b?void 0:b.id.toString(),pr_brand_name:null===(w=e.brand)||void 0===w?void 0:w.name,pr_bulk_threshold:void 0,pr_card_name:void 0,pr_category_level_id_1:null===(I=J.at(0))||void 0===I?void 0:I.id.toString(),pr_category_level_id_2:null===(P=J.at(1))||void 0===P?void 0:P.id.toString(),pr_category_level_id_3:null===(R=J.at(2))||void 0===R?void 0:R.id.toString(),pr_category_level_id_4:null===(S=J.at(3))||void 0===S?void 0:S.id.toString(),pr_category_level_name_1:null===(k=J.at(0))||void 0===k?void 0:k.name,pr_category_level_name_2:null===(E=J.at(1))||void 0===E?void 0:E.name,pr_category_level_name_3:null===(C=J.at(2))||void 0===C?void 0:C.name,pr_category_level_name_4:null===(A=J.at(3))||void 0===A?void 0:A.name,pr_cpc:void 0,pr_delivery_mode:void 0,pr_discount_amount:null===(D=e.price)||void 0===D?void 0:D.primaryPrice.discountPercentage,pr_eco_label_name:Q,pr_has_calculator:!!(0,r.tP)()&&("m2"===(null===(L=e.price)||void 0===L||null===(U=L.secondaryPrice)||void 0===U?void 0:U.measurementUnit)&&e.unitCount>0),pr_has_coupon_label:!1,pr_has_eco_label:!!Q.length,pr_has_energy_label:ie,pr_has_promo_label:void 0,pr_has_repairability_index:!!e.repairabilityIndex,pr_has_responsible_table:(0,r.jo)()&&!!(null===(T=e.attributes)||void 0===T?void 0:T.some((e=>(0,u.mT)(e.name)))),pr_has_variant:!!(null===(M=e.variants)||void 0===M?void 0:M.list)&&(null===(O=e.variants)||void 0===O?void 0:O.list.length)>1,pr_has_warranty:!!(0,c.y8)(e),pr_is_best_quality_offer:e.isBestQualityOffer,pr_is_cpt:void 0,pr_is_degraded:ne.length>0,pr_is_local_product:void 0,pr_is_mf:Boolean(null===(W=e.delivery)||void 0===W?void 0:W.fulfillment),pr_is_pro:e.isProProduct,pr_is_second_hand_product:e.isSecondHand,pr_is_sponsored:void 0,pr_is_sustainable_product:void 0,pr_is_top_sales:e.isOnTopSale,pr_list_name:void 0,pr_listing_fingerprint:void 0,pr_lowest_category_id:re.id,pr_lowest_category_name:re.name,pr_model_id:"".concat(e.modelId),pr_model_name:e.title,pr_models_count:e.totalModels,pr_name:e.title,pr_number_product_advantages:null!==(de=null===(N=e.productAdvantages)||void 0===N?void 0:N.list.length)&&void 0!==de?de:0,pr_position:void 0,pr_price:oe,pr_price_excluding_vat:null===(V=e.price)||void 0===V?void 0:V.primaryPrice.amountWithoutVat,pr_product_id:"".concat(e.productId),pr_qna_count:null!==(ce=null===(x=e.qna)||void 0===x?void 0:x.totalItems)&&void 0!==ce?ce:0,pr_quantity:ae,pr_rating:e.averageRating,pr_rating_count:e.totalRating,pr_reco_engine_name:void 0,pr_search_query:void 0,pr_seller_id:"".concat(null===(B=e.seller)||void 0===B?void 0:B.id),pr_seller_name:null===(G=e.seller)||void 0===G?void 0:G.name,pr_shipping:void 0,pr_shipping_options:(0,r.tP)()?le.map((e=>e.type.toLowerCase())):[],pr_shipping_options_available_count:(0,r.tP)()?((null===(q=e.delivery)||void 0===q||null===(z=q.carriers)||void 0===z?void 0:z.offers)||[]).length:0,pr_shipping_options_count:(0,r.tP)()?le.length:0,pr_stock:e.isSellable?"available":"out of stock",pr_total_ati:null===(F=e.price)||void 0===F?void 0:F.primaryPrice.amountWithVat,pr_variant:(null===(j=e.variants)||void 0===j?void 0:j.selected)?Object.values(e.variants.selected):[],pr_variant_count:null!==(ue=null===(Y=e.variants)||void 0===Y?void 0:Y.list.length)&&void 0!==ue?ue:0,pr_variant_type:(null===(H=e.variants)||void 0===H?void 0:H.selected)?Object.keys(e.variants.selected):[],...t}}var v=i(81384);const _=(e,t,i,o,a,l)=>{var d,c,u,_,p,m,g,f,h,y,b,w,I,P,R,S,k,E,C;const A=(0,v.GN)(e.commercialOperationIds||[],i,null!==(C=null===(d=e.price)||void 0===d?void 0:d.primaryPrice.amountWithVat)&&void 0!==C?C:0,null===(c=e.price)||void 0===c||null===(u=c.retailPrice)||void 0===u?void 0:u.amountWithVat).includes(n._.PROMO),D=1===e.totalModels?"none":Boolean(e.totalModels>1&&!e.variants);var L,U;const T="number"===typeof(null===(_=e.price)||void 0===_?void 0:_.proAmountSavedWithVat)&&(null!==(L=null===(p=e.price)||void 0===p?void 0:p.primaryPrice.amountWithVat)&&void 0!==L?L:0)>0?(M=e.price.proAmountSavedWithVat/(null!==(U=e.price.primaryPrice.amountWithVat)&&void 0!==U?U:0)*100,Math.round(100*(M+Number.EPSILON))/100):0;var M;const O=(null===e||void 0===e?void 0:e.media.findIndex((e=>"image-with-dimensions"===e.type)))+1;return{event:"interaction_product detail",e_category:"ecommerce",e_action:"product detail",e_label:e.title,interaction_hit:!0,event_trigger:"product_page",carbon_score:null===e||void 0===e||null===(m=e.carbonScore)||void 0===m?void 0:m.product.carbonScore,hasVideo:null===e||void 0===e?void 0:e.media.some((e=>["youtube","dailymotion","vimeo"].includes(e.type||""))),has_cashback_offer:"cashbackOffers"in e&&(null===e||void 0===e||null===(g=e.cashbackOffers)||void 0===g?void 0:g.length)>0,has_picture_generated:null===e||void 0===e?void 0:e.media.some((e=>"image-with-dimensions"===e.type)),picture_generated_position:O>0?O:void 0,review_carousel_is_displayed:!!(null===e||void 0===e||null===(f=e.picturesWithReview)||void 0===f?void 0:f.length),review_picture_count:(null===(h=e.picturesWithReview)||void 0===h?void 0:h.length)||0,variant_legacy_design:D,policy_return_count:null===(y=e.sellerReturnPolicy)||void 0===y?void 0:y.returnWithdrawalLimit,policy_return_is_free:null===(b=e.sellerReturnPolicy)||void 0===b?void 0:b.returnFeesFree,has_md_ranking_playlist:null===(w=e.mdScores)||void 0===w?void 0:w.some((e=>e.ranking.length>=5)),has_useful_reviews:(null===(I=e.latestReviews)||void 0===I||null===(P=I.bestRatedReviews)||void 0===P?void 0:P.some((e=>e.votes>0)))||!1,is_bulk_available:a,has_non_deductible_tva_disclaimer:(0,r.tP)()?(null===(R=e.seller)||void 0===R?void 0:R.country)!==(0,r.Xf)().toUpperCase():void 0,pr_products:[s(e,{pr_b2b_price_advantage_count:(null===(S=e.price)||void 0===S?void 0:S.proAmountSavedWithVat)&&!A?T:void 0,pr_has_a_coupon:!!t.length,pr_is_in_promo:A,pr_md_count:(null===(k=l||e.mdScores)||void 0===k?void 0:k.filter((e=>!!e.nbTotal&&!!e.avgRating)).length)||0,pr_md_top:(0,r.tP)()?(W=l||e.mdScores,Boolean(null===W||void 0===W?void 0:W.some((e=>1===e.questionId&&e.nbTotal>=10&&e.avgRating>4.3)))):null===(E=e.mdScores)||void 0===E?void 0:E.some((e=>e.isTop&&1===e.questionId))})],listing_fingerprint:void 0,isSpAvailable:o,picture_count:e.media.length};var W},p=e=>{const{descriptionFileUrl:t,title:i}=e;return{event:"interaction_display technical sheet",e_category:"navigation",e_action:"Technical sheet impression",e_label:t,event_trigger:i,amp_event_name:"Display technical sheet"}},m=()=>({event:"interaction_click on see more q&a",e_category:"navigation",e_action:"Click on see more q&a",e_label:void 0,event_trigger:"product page",amp_event_name:"Click on see more q&a",interaction_hit:!1}),g=(e,t)=>({event:"interaction_click on product label",event_trigger:t,e_category:"navigation",e_action:"Click on product label",e_label:e,label_name:e,amp_event_name:"Click on label",interaction_hit:"False"})},64955:function(e,t,i){i.d(t,{XH:function(){return r},_L:function(){return o},ex:function(){return n}});const n=e=>{var t,i;return null===(t=e.productDiscovery)||void 0===t||null===(i=t.sponsoredProductRecommendation)||void 0===i?void 0:i.sponsoredRecommendations},r=e=>{var t,i;return null===(t=e.productDiscovery)||void 0===t||null===(i=t.sponsoredProductRecommendation)||void 0===i?void 0:i.mabayaProducts},o=e=>{var t,i,n,r;return(null===(t=e.productDiscovery)||void 0===t||null===(i=t.sponsoredProductRecommendation)||void 0===i?void 0:i.fetchingProducts)||(null===(n=e.productDiscovery)||void 0===n||null===(r=n.sponsoredProductRecommendation)||void 0===r?void 0:r.fetchingIds)}},50293:function(e,t,i){i.d(t,{G:function(){return n},M:function(){return r}});const n=2,r=4}}]);
//# sourceMappingURL=29657-4a25e8c5c8ef5367.js.map